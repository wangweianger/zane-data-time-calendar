"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("zaneDate requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:void 0,function(t,e){e&&require("./zane-calendar.min.css"),(new Date).Format||(Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"H+":this.getHours()>12?this.getHours()-12:this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t});var i=document,a="querySelector",n="querySelectorAll",o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.config={elem:"#zane-calendar",type:"day",position:"fixed",lang:"cn",width:250,height:280,behindTop:10,format:"yyyy-MM-dd",value:"",min:"",max:"",event:"click",zindex:100,showtime:!1,showclean:!0,shownow:!0,showsubmit:!0,haveBotBtns:!0,calendarName:"",isDouble:!1,mounted:function(){},change:function(){},done:function(){}},this.config=this.extend(this.config,t),this.config.value||(this.config.value=""),this.config.min||(this.config.min=""),this.config.max||(this.config.max=""),this.obj={input:i[a](this.config.elem),calendar:null,id:"#zane-calendar-"+this.config.calendarName,$obj:null,fulldatas:{},$noDoubleObj:null,isDoubleOne:!1,handleType:"date",initVal:"",totalYear:18,cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],tools:{confirm:"确定",clear:"清空",now:"现在"}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}},this.vision="2.0.7",this.auther="zane",this.obj.lang=this.obj[this.config.lang],"year"!=this.config.type&&"month"!=this.config.type||(this.config.haveBotBtns=!1),"time"==this.config.type&&(this.config.showtime=!1),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.config.isDouble?"INPUT"!==this.obj.input.nodeName?this.obj.input.textContent=this.config.doublevalue:this.obj.input.value=this.config.doublevalue:this.config.isDouble||("INPUT"!==this.obj.input.nodeName?this.obj.input.textContent=this.config.value:this.obj.input.value=this.config.value),this.on(this.obj.input,this.config.event,function(o){o.preventDefault(),o.stopPropagation();var s=i[a](e.obj.id);if(s&&(e.obj.calendar=s,e.$obj=s),e.obj.calendar)e.elemEventPoint(o);else{if(e.obj.isDoubleOne=-1!=e.config.calendarName.indexOf("DOUBLE"),e.obj.isDoubleOne){var l=e.config.calendarName.replace(/DOUBLE/,"");e.obj.$noDoubleObj=t[l],t[l].obj.$noDoubleObj=e}var c=e.objHTML(),h=i.createElement("div");switch(h.innerHTML=c,i.body.appendChild(h),e.$obj=i[a](e.obj.id),e.config.type){case"day":e.judgeCalendarRender("day",e.config.value);break;case"year":e.getYearHtml(e.config.value);break;case"month":e.getMonthHtml(e.config.value);break;case"time":e.getTimeHtml(e.config.value)}e.elemEventPoint(o),e.documentClick(),e.calendarClick()}e.obj.initVal=e.obj.input.value;var d=i[n](".zane-calendar");e.forEach(d,function(t,i){("#"+i.getAttribute("id")).replace(/DOUBLE/,"")!==e.obj.id.replace(/DOUBLE/,"")&&(i.style.display="none")})}),this.config.mounted&&this.config.mounted()}},{key:"objHTML",value:function(t){return'<div class="zane-calendar" style="width:'+this.config.width+"px;z-index:"+this.config.zindex+'" id="'+this.obj.id.substring(1)+'">\n\t\t\t\t\t<div class="zane-calendar-one left" style="width:'+this.config.width+'px;">\n\t\t\t\t\t\t<div class="zane-date-top">\n\t\t\t\t\t\t\t<div class="common-top top-check-day"></div>\n\t\t\t\t\t\t\t<div class="common-top top-check-year"></div>\t\n\t\t\t\t\t\t\t<div class="common-top top-check-month"></div>\t\n\t\t\t\t\t\t\t<div class="common-top top-check-time"></div>\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="zane-date-main" style="height:'+(this.config.height-80)+'px">\n\t\t\t\t\t\t\t<div class="common-main main-check-day"></div>\n\t\t\t\t\t\t\t<div class="common-main main-check-year"></div>\n\t\t\t\t\t\t\t<div class="common-main main-check-month"></div>\n\t\t\t\t\t\t\t<div class="common-main main-check-time"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="zane-date-bottom" style="display:'+(this.config.haveBotBtns||this.config.isDouble?"block":"none")+";\n\t\t\t\t\t\t\t\t\t\t\t\tborder-left:"+(this.obj.isDoubleOne?"none":"solid 1px #eee")+';">\n\t\t\t\t\t\t\t<div class="btn-select-time" style="display:'+(this.config.showtime?"blcok":"none")+'">\n\t\t\t\t\t\t\t\t<div class="zane-date-left button btn-select-time-item" onclick="'+this.config.calendarName+'.getTimeHtml()">'+this.obj.lang.timeTips+'</div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t \t\t\t<div class="zane-date-right">\n\t\t\t\t\t\t\t\t<div class="button '+(this.config.shownow?"no-right-line":"")+'" \n\t\t\t\t\t\t\t\t\tstyle="display:'+(this.config.showclean?"blcok":"none")+'"\n\t\t\t\t\t\t\t\t\tonclick="'+this.config.calendarName+'.cleanInputVal()">'+this.obj.lang.tools.clear+'</div>\n\t\t\t\t\t\t\t\t<div class="button '+(this.config.showsubmit?"no-right-line":"")+'"\n\t\t\t\t\t\t\t\t\tstyle="display:'+(this.config.shownow&&!this.config.min||this.config.shownow&&!this.config.max?"blcok":"none")+'" \n\t\t\t\t\t\t\t\t\tonclick="'+this.config.calendarName+'.changeToToday()">'+this.obj.lang.tools.now+'</div>\n\t\t\t\t\t\t\t\t<div class="button" \n\t\t\t\t\t\t\t\t\tstyle="display:'+(this.config.showsubmit?"blcok":"none")+'"\n\t\t\t\t\t\t\t\t\tonclick="'+this.config.calendarName+'.makeSureSelectTime()">'+this.obj.lang.tools.confirm+"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>"}},{key:"topCheckDayHTML",value:function(t){var e='\t\n\t\t<div onclick="'+this.config.calendarName+".preMonth("+t.year+","+t.month+')" class="zane-date-icom zane-icon-left"></div>';return"cn"==this.config.lang?e+='<div class="zane-icon-center">\n\t\t\t\t<span onclick="'+this.config.calendarName+".getYearHtml("+t.year+')">'+t.year+'年</span>\n\t\t\t\t<span onclick="'+this.config.calendarName+".getMonthHtml("+t.month+')">'+t.month+"月</span>\n\t\t\t</div>":e+='<div class="zane-icon-center">\n\t\t\t\t<span onclick="'+this.config.calendarName+".getMonthHtml("+t.month+')">'+this.weekToEn(t.month)+'</span>\n\t\t\t\t<span onclick="'+this.config.calendarName+".getYearHtml("+t.year+')">'+t.year+"</span>\n\t\t\t</div>",e+='<div onclick="'+this.config.calendarName+".nextMonth("+t.year+","+t.month+')" class="zane-date-icom zane-icon-right"></div>'}},{key:"mainCheckDayHTML",value:function(t){for(var e='\n\t\t<div class="week-day"><table class="day" border="0" cellspacing="0">\n\t\t\t<tr>',i=0;i<7;i++)e+="<th>"+this.obj.lang.weeks[i]+"</th>";e+="</tr>";for(var a=0,n=t.datalist.length;a<n;a++){var o=t.datalist[a].class||"";t.datalist[a].day===parseInt(t.today)&&"now"===t.datalist[a].daytype&&(o+=" active"),(""!=this.config.min&&new Date(t.datalist[a].fullday).getTime()<new Date(this.config.min).getTime()||""!=this.config.max&&new Date(t.datalist[a].fullday).getTime()>new Date(this.config.max).getTime())&&(o+=" calendar-disabled"),e+=0==a?'<tr><td data-time="'+t.datalist[a].fullday+'" class="'+o+'">'+t.datalist[a].day+"</td>":a==n-1?'<td data-time="'+t.datalist[a].fullday+'" class="'+o+'">'+t.datalist[a].day+"</td></tr>":(a+1)%7==0?'<td data-time="'+t.datalist[a].fullday+'" class="'+o+'">'+t.datalist[a].day+"</td></tr><tr>":'<td data-time="'+t.datalist[a].fullday+'" class="'+o+'">'+t.datalist[a].day+"</td>"}return e+="</table></div>"}},{key:"topCheckYearHTML",value:function(t){return'\n\t\t<div class="zane-date-icom zane-icon-left" onclick="'+this.config.calendarName+".perYear("+t.nowyear+')"></div>\n\t\t<div class="zane-icon-center">\n\t\t\t<span>'+t.firstYear+("cn"==this.config.lang?"年":"")+"</span>-\n\t\t\t<span>"+t.lastYear+("cn"==this.config.lang?"年":"")+'</span>\n\t\t</div>\n\t\t<div class="zane-date-icom zane-icon-right" onclick="'+this.config.calendarName+".nextYear("+t.nowyear+')"></div>'}},{key:"mainCheckYearHTML",value:function(t){for(var e='<div class="week-day">\n\t\t\t<table class="day" border="0" cellspacing="0">',i=0,a=t.datalist.length;i<a;i++){var n=t.datalist[i].class||"";t.datalist[i].year===t.nowyear&&(n+=" active"),e+=0==i?'<tr><td data-year="'+t.datalist[i].year+'" class="'+n+'">'+t.datalist[i].year+("cn"==this.config.lang?"年":"")+"</td>":i==a-1?'<td data-year="'+t.datalist[i].year+'" class="'+n+'">'+t.datalist[i].year+("cn"==this.config.lang?"年":"")+"</td></tr>":(i+1)%3==0?'<td data-year="'+t.datalist[i].year+'" class="'+n+'">'+t.datalist[i].year+("cn"==this.config.lang?"年":"")+"</td></tr><tr>":'<td data-year="'+t.datalist[i].year+'" class="'+n+'">'+t.datalist[i].year+("cn"==this.config.lang?"年":"")+"</td>"}return e+="</table>\n\t\t</div>"}},{key:"topCheckMonthHTML",value:function(t){return'\n\t\t<div class="zane-date-icom zane-icon-left" style="display:'+("month"==this.obj.handleType?"none":"block")+'" onclick="'+this.config.calendarName+".perMonthYear("+t.year+","+t.nowmonth+')"></div>\n\t\t<div class="zane-icon-center">\n\t\t\t<span>'+t.year+'年</span>\n\t\t</div>\n\t\t<div class="zane-date-icom zane-icon-right" style="display:'+("month"==this.obj.handleType?"none":"block")+'" onclick="'+this.config.calendarName+".nextMonthYear("+t.year+","+t.nowmonth+')"></div>'}},{key:"mainCheckMonthHTML",value:function(t){for(var e='<div class="week-day">\n\t\t\t<table class="day" border="0" cellspacing="0">',i=0,a=t.datalist.length;i<a;i++){var n=t.datalist[i].class||"";i+1===parseInt(t.nowmonth)&&(n+=" active"),e+=0==i?'<tr><td data-month="'+(i+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[i]+"</td>":i==a-1?'<td data-month="'+(i+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[i]+"</td></tr>":(i+1)%3==0?'<td data-month="'+(i+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[i]+"</td></tr><tr>":'<td data-month="'+(i+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[i]+"</td>"}return e+="</table>\n\t\t</div>"}},{key:"topCheckTimeHTML",value:function(){return'<div class="zane-icon-center"><span>'+this.obj.lang.timeTips+"</span></div>"}},{key:"mainCheckTimeHTML",value:function(t){for(var e='<div class="week-day"><ul class="nav"><li>'+this.obj.lang.time[0]+"</li><li>"+this.obj.lang.time[1]+"</li><li>"+this.obj.lang.time[2]+'</li></ul><div class="select-time">\n\t\t\t\t<ul class="hour">',i=0,a=t.hours.length;i<a;i++){var n="";t.hours[i]==t.hour&&(n="active"),e+='<li class="'+n+'" data-time="'+t.hours[i]+'">'+t.hours[i]+"</li>"}e+='</ul><ul class="minute">';for(var o=0,s=t.minutes.length;o<s;o++){var l="";t.minutes[o]==t.minute&&(l="active"),e+='<li class="'+l+'" data-time="'+t.minutes[o]+'">'+t.minutes[o]+"</li>"}e+='</ul><ul class="second">';for(var c=0,h=t.seconds.length;c<h;c++){var d="";t.seconds[c]==t.second&&(d="active"),e+='<li class="'+d+'" data-time="'+t.seconds[c]+'">'+t.seconds[c]+"</li>"}return e+="</ul></div></div>"}},{key:"bottomCheckTimeHTML",value:function(){var t="";return"time"===this.obj.handleType?t+='<div class="zane-date-left button" onclick="'+this.config.calendarName+'.backDateHtml()">'+this.obj.lang.dateTips+"</div>":t+='<div class="zane-date-left button" onclick="'+this.config.calendarName+'.getTimeHtml()">'+this.obj.lang.timeTips+"</div>",t}},{key:"elemEventPoint",value:function(t){this.obj.calendar=this.$obj;var e=t.srcElement.getBoundingClientRect(),a=e.left,n=e.top,o=i.documentElement.clientWidth,s=i.documentElement.clientHeight,l=i.documentElement.scrollTop,c=t.target.offsetHeight,h=s-(n+c+this.config.behindTop),d=o-a-this.config.width;this.obj.calendar.style.display="block",this.config.height=this.$obj.offsetHeight,this.obj.isDoubleOne&&d>=this.config.width?this.obj.calendar.style.left=a+this.config.width+"px":this.obj.calendar.style.left=a+"px",h>this.config.height?this.config.isDouble&&this.obj.isDoubleOne&&d<this.config.width?this.obj.calendar.style.top=n+l+c+this.config.behindTop+this.config.height-2-40+"px":this.obj.calendar.style.top=n+l+c+this.config.behindTop+"px":this.config.isDouble&&!this.obj.isDoubleOne&&d<this.config.width?this.obj.calendar.style.top=n+l-this.config.behindTop-2*this.config.height+42+"px":this.obj.calendar.style.top=n+l-this.config.behindTop-this.config.height+"px"}},{key:"getTimeDates",value:function(t,e){var i=[],a=t?new Date(t):new Date,n=a.getFullYear(),o=a.getMonth()+1,s=a.getDate(),l=(a.getDay(),a.getHours()),c=a.getMinutes(),h=a.getSeconds();this.config.isDouble&&this.obj.isDoubleOne&&"next"==e?o>=12?(n+=1,o=1):o+=1:this.config.isDouble&&!this.obj.isDoubleOne&&"pre"==e&&(o<=1?(n-=1,o=12):o-=1),o=(o+"").length<2?"0"+o:o,s=(s+"").length<2?"0"+s:s,l=(l+"").length<2?"0"+l:l,c=(c+"").length<2?"0"+c:c,h=(h+"").length<2?"0"+h:h;var d=new Date(n,o,0).getDate(),r=new Date(n+"/"+o+"/1").getDay(),u=(new Date(n+"/"+o+"/"+d).getDay(),null);if(r>0){var f=new Date(n,o-1,0).getDate(),m=n,b=o-1;0===b&&(m=n-1,b=12);for(var g=0,y=r;g<y;g++){var v=f-g;b=(b+"").length<2?"0"+b:b,v=(v+"").length<2?"0"+v:v,i.push({day:f-g,week:y-1-g,class:"light",daytype:"pre",fullday:m+"/"+b+"/"+v})}}i=i.reverse();for(var p=0,j=d;p<j;p++){var k=(r+p)%7,D=o,w=p+1;D=(D+"").length<2?"0"+D:D,w=(w+"").length<2?"0"+w:w,i.push({day:p+1,week:k,daytype:"now",fullday:n+"/"+D+"/"+w}),p===j-1&&(u=k,p+1)}var T=42-i.length,C=n,M=parseInt(o)+1;13===M&&(C=n+1,M=1);for(g=0;g<T;g++){var H=(u+1+g)%7,x=g+1;M=(M+"").length<2?"0"+M:M,x=(x+"").length<2?"0"+x:x,i.push({day:g+1,week:H,class:"light",daytype:"next",fullday:C+"/"+M+"/"+x})}return{year:n,month:o,today:s,hour:l,minute:c,second:h,datalist:i}}},{key:"preMonth",value:function(t,e){0==(e-=1)&&(e=12,t-=1);var i=t+"/"+e+"/"+this.obj.fulldatas.today,a=!(!this.config.isDouble||!this.obj.isDoubleOne);this.judgeCalendarRender("day",i,a,"pre")}},{key:"nextMonth",value:function(t,e){13==(e+=1)&&(e=1,t+=1);var i=t+"/"+e+"/"+this.obj.fulldatas.today,a=!(!this.config.isDouble||this.obj.isDoubleOne);this.judgeCalendarRender("day",i,a,"next")}},{key:"getDay",value:function(){var t=this,e=this.$obj[a](".main-check-day")[n]("td");this.on(e,"click",function(i){if(!t.hasClass(i.target,"calendar-disabled")){var a=this.getAttribute("data-time").split("/");if(t.obj.fulldatas.year=a[0],t.obj.fulldatas.month=a[1],t.obj.fulldatas.today=a[2],t.forEach(e,function(e,i){t.removeClass(i,"active")}),t.addClass(this,"active"),!t.config.showtime&&!t.config.isDouble){var n=t.obj.fulldatas.year+"/"+t.obj.fulldatas.month+"/"+t.obj.fulldatas.today;t.getYearMonthAndDay(n,!0)}}}),!this.config.isDouble&&this.on(e,"dblclick",function(e){"dblclick"===e.type&&t.makeSureSelectTime()})}},{key:"getYearHtml",value:function(t,e,i){t=t||(new Date).getFullYear(),t=parseInt(t),this.config.isDouble&&this.obj.isDoubleOne&&"next"==i?t+=1:this.config.isDouble&&!this.obj.isDoubleOne&&"pre"==i&&(t-=1);for(var a={nowyear:t,datalist:[]},n=0;n<this.obj.totalYear;n++){var o=t-Math.floor(this.obj.totalYear/2)+n;0===n&&(a.firstYear=o),n===this.obj.totalYear-1&&(a.lastYear=o),a.datalist.push({class:"",year:o})}this.obj.fulldatas.year=this.config.isDouble?a.nowyear:"",this.judgeCalendarRender("year",a,e,i)}},{key:"perYear",value:function(t){t-=this.obj.totalYear;var e=!(!this.config.isDouble||!this.obj.isDoubleOne);this.getYearHtml(t,e,"pre")}},{key:"nextYear",value:function(t){t+=this.obj.totalYear;var e=!(!this.config.isDouble||this.obj.isDoubleOne);this.getYearHtml(t,e,"next")}},{key:"getYear",value:function(){var t=this,e=this.$obj[a](".main-check-year")[n]("td");this.on(e,"click",function(i){var a=i.target.getAttribute("data-year");t.forEach(e,function(e,i){t.removeClass(i,"active")}),t.addClass(this,"active");var n=a+"/"+t.obj.fulldatas.month+"/"+t.obj.fulldatas.today;if("year"===t.config.type)t.config.isDouble?t.obj.fulldatas.year=a:t.getYearMonthAndDay(a,!1);else{var o=t.obj.isDoubleOne?"pre":"";t.judgeCalendarRender("day",n,!0,o)}})}},{key:"getMonthHtml",value:function(t){var e=new Date,i=this.obj.fulldatas.year||e.getFullYear(),a={nowmonth:t=t||e.getMonth()+1,year:i,datalist:this.obj.lang.month};this.obj.fulldatas.month=this.config.isDouble?a.nowmonth:"",this.judgeCalendarRender("month",a)}},{key:"perMonthYear",value:function(t,e){var i={nowmonth:e,year:t-1,datalist:this.obj.lang.month};this.judgeCalendarRender("month",i)}},{key:"nextMonthYear",value:function(t,e){var i={nowmonth:e,year:t+1,datalist:this.obj.lang.month};this.judgeCalendarRender("month",i)}},{key:"getMonth",value:function(){var t=this,e=this.$obj[a](".main-check-month")[n]("td");this.on(e,"click",function(i){var a=i.target.getAttribute("data-year"),n=i.target.getAttribute("data-month");t.forEach(e,function(e,i){t.removeClass(i,"active")}),t.addClass(this,"active");var o=a+"/"+n+"/"+t.obj.fulldatas.today;"month"===t.config.type?t.config.isDouble?t.obj.fulldatas.month=n:t.getYearMonthAndDay(n,!1):t.judgeCalendarRender("day",o)})}},{key:"getTimeHtml",value:function(t){this.config.isDouble&&!this.obj.isDoubleOne&&"day"==this.config.type&&this.obj.$noDoubleObj.getTimeHtml();var e=(new Date).Format("yyyy-MM-dd"),i=t?new Date(e+" "+t):new Date,a=i.getHours(),n=i.getMinutes(),o=i.getSeconds();a=(a+"").length<2?"0"+a:a,n=(n+"").length<2?"0"+n:n,o=(o+"").length<2?"0"+o:o,this.obj.fulldatas.hour=this.obj.fulldatas.hour||a,this.obj.fulldatas.minute=this.obj.fulldatas.minute||n,this.obj.fulldatas.second=this.obj.fulldatas.second||o;for(var s={hour:this.obj.fulldatas.hour,minute:this.obj.fulldatas.minute,second:this.obj.fulldatas.second,hours:[],minutes:[],seconds:[]},l=0;l<24;l++)l<10?s.hours.push("0"+l):s.hours.push(l+"");for(l=0;l<60;l++)l<10?(s.minutes.push("0"+l),s.seconds.push("0"+l)):(s.minutes.push(l+""),s.seconds.push(l+""));this.judgeCalendarRender("time",s)}},{key:"selectTime",value:function(){var t=this,e=this.$obj[a]("ul.hour")[n]("li"),i=this.$obj[a]("ul.minute")[n]("li"),o=this.$obj[a]("ul.second")[n]("li");this.on(e,"click",function(i){t.forEach(e,function(e,i){t.removeClass(i,"active")}),t.addClass(this,"active"),t.obj.fulldatas.hour=this.getAttribute("data-time")}),this.on(i,"click",function(e){t.forEach(i,function(e,i){t.removeClass(i,"active")}),t.addClass(this,"active"),t.obj.fulldatas.minute=this.getAttribute("data-time")}),this.on(o,"click",function(e){t.forEach(o,function(e,i){t.removeClass(i,"active")}),t.addClass(this,"active"),t.obj.fulldatas.second=this.getAttribute("data-time")})}},{key:"backDateHtml",value:function(){this.config.isDouble&&!this.obj.isDoubleOne&&"day"==this.config.type&&this.obj.$noDoubleObj.backDateHtml(),this.obj.handleType="date";var t=this.bottomCheckTimeHTML();this.renderCommonHtml("day","","",t,!1)}},{key:"changeToToday",value:function(){var t=this.getTimeDates(),e=null,i=!0;this.config.showtime?e=t.year+"/"+t.month+"/"+t.today+" "+t.hour+":"+t.minute+":"+t.second:"time"==this.config.type?(i=!1,e=t.hour+":"+t.minute+":"+t.second):e=t.year+"/"+t.month+"/"+t.today,this.getYearMonthAndDay(e,i)}},{key:"cleanInputVal",value:function(){this.getYearMonthAndDay("",!1)}},{key:"makeSureSelectTime",value:function(){var t=null,e=!0;if(this.config.showtime)t=this.obj.fulldatas.year+"/"+this.obj.fulldatas.month+"/"+this.obj.fulldatas.today+" "+this.obj.fulldatas.hour+":"+this.obj.fulldatas.minute+":"+this.obj.fulldatas.second;else if("time"!=this.config.type||this.config.isDouble)if(this.config.isDouble){var i=this.obj.$noDoubleObj.obj.fulldatas,a=void 0,n=void 0;switch(this.config.type){case"day":this.obj.$noDoubleObj.config.showtime?(a=i.year+"/"+i.month+"/"+i.today+" "+i.hour+":"+i.minute+":"+i.second,n=this.obj.fulldatas.year+"/"+this.obj.fulldatas.month+"/"+this.obj.fulldatas.today+" "+this.obj.fulldatas.hour+":"+this.obj.fulldatas.minute+":"+this.obj.fulldatas.second):(a=i.year+"/"+i.month+"/"+i.today,n=this.obj.fulldatas.year+"/"+this.obj.fulldatas.month+"/"+this.obj.fulldatas.today);break;case"year":e=!1,a=""+i.year,n=""+this.obj.fulldatas.year;break;case"month":e=!1,a=""+i.month,n=""+this.obj.fulldatas.month;break;case"time":e=!1,a=i.hour+":"+i.minute+":"+i.second,n=this.obj.fulldatas.hour+":"+this.obj.fulldatas.minute+":"+this.obj.fulldatas.second}t=a+"|"+n}else t=this.obj.fulldatas.year+"/"+this.obj.fulldatas.month+"/"+this.obj.fulldatas.today;else e=!1,t=this.obj.fulldatas.hour+":"+this.obj.fulldatas.minute+":"+this.obj.fulldatas.second;this.getYearMonthAndDay(t,e)}},{key:"getYearMonthAndDay",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=null,o="",s="";if(t&&-1!=t.indexOf("|")){var l=t.split("|"),c=null,h=null;e?(c=o=new Date(l[0]).Format(this.config.format),h=s=new Date(l[1]).Format(this.config.format)):(c=o=l[0],h=s=l[1]),n=c+" - "+h}else n=o=e?new Date(t).Format(this.config.format):t;"INPUT"!==this.obj.input.nodeName?this.obj.input.textContent=n:this.obj.input.value=n,this.$obj.style.display="none",this.obj.isDoubleOne&&(i[a](this.obj.$noDoubleObj.obj.id).style.display="none"),this.config.done&&this.config.done(n,o,s),this.obj.initVal!=n&&this.config.change&&this.config.change(n,o,s)}},{key:"judgeCalendarRender",value:function(t,e,i,n){var o=void 0,s=void 0,l=void 0;switch(t){case"day":this.obj.handleType="day";var c=this.getTimeDates(e,n);this.obj.fulldatas=c,this.compareSize(i,n),s=this.topCheckDayHTML(c),o=this.mainCheckDayHTML(c),this.renderCommonHtml("day",s,o),this.countHeight(".main-check-day",7),this.getDay();break;case"year":this.obj.handleType="year",this.compareSize(i,n),o=this.mainCheckYearHTML(e),s=this.topCheckYearHTML(e),this.renderCommonHtml("year",s,o),this.countHeight(".main-check-year",6),this.getYear();break;case"month":this.obj.handleType="month",o=this.mainCheckMonthHTML(e),s=this.topCheckMonthHTML(e),this.renderCommonHtml("month",s,o),this.countHeight(".main-check-month",4),this.getMonth();break;case"time":this.obj.handleType="time",o=this.mainCheckTimeHTML(e),s=this.topCheckTimeHTML(),l=this.bottomCheckTimeHTML(),this.renderCommonHtml("time",s,o,l),this.$obj[a](".select-time").style.height=this.config.height-115+"px";var h=this.$obj[a]("ul.hour")[a]("li.active").offsetTop,d=this.$obj[a]("ul.minute")[a]("li.active").offsetTop,r=this.$obj[a]("ul.second")[a]("li.active").offsetTop;this.$obj[a]("ul.hour").scrollTop=h-150,this.$obj[a]("ul.minute").scrollTop=d-150,this.$obj[a]("ul.second").scrollTop=r-150,this.selectTime()}}},{key:"renderCommonHtml",value:function(t,e,i,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"time"!=t&&s||(this.$obj[a](".btn-select-time").innerHTML=o),s&&(this.$obj[a](".top-check-"+t).innerHTML=e,this.$obj[a](".main-check-"+t).innerHTML=i),this.showOrHide(this.$obj[n](".common-top"),"hide"),this.showOrHide(this.$obj[n](".common-main"),"hide"),this.$obj[a](".main-check-"+t).style.display="block",this.$obj[a](".top-check-"+t).style.display="block"}},{key:"compareSize",value:function(t,e){if(t){var i=this.obj.fulldatas,a=this.obj.$noDoubleObj;this.config.isDouble&&i&&a&&(a=a.obj.fulldatas,this.obj.isDoubleOne?this.getDoubleTime({prev:a,next:i,clickType:e}):this.getDoubleTime({prev:i,next:a,clickType:e}))}}},{key:"getDoubleTime",value:function(t){var e=void 0,i=void 0,a=void 0;switch(this.config.type){case"day":i=t.prev.year+"/"+t.prev.month+"/"+t.prev.today,e=t.next.year+"/"+t.next.month+"/"+t.next.today,new Date(i).getTime()>=(a=new Date(e).getTime())-864e5&&this.obj.$noDoubleObj.judgeCalendarRender("day",a,!1,t.clickType);break;case"year":""+t.prev.year>=(a=""+t.next.year)&&this.obj.$noDoubleObj.getYearHtml(a,!1,t.clickType)}}},{key:"calendarClick",value:function(){this.on(this.obj.calendar,"click",function(t){t.preventDefault(),t.stopPropagation()})}},{key:"extend",value:function(t,e){return Object.assign(t,e)}},{key:"hasClass",value:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}},{key:"addClass",value:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)}},{key:"removeClass",value:function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ")}}},{key:"forEach",value:function(t,e){var i=void 0;if("function"!=typeof e)return this;if(t=t||[],"[object Object]"==Object.prototype.toString.call(t)){for(i in t)if(e.call(t[i],i,t[i]))break}else if("[object NodeList]"==Object.prototype.toString.call(t)||"[object Array]"==Object.prototype.toString.call(t))for(i=0;i<t.length&&!e.call(t[i],i,t[i]);i++);else e.call(t,0,t);return this}},{key:"on",value:function(t,e,i){return this.forEach(t,function(t,a){a.attachEvent?a.attachEvent("on"+e,function(t){t.target=t.srcElement,i.call(a,t)}):a.addEventListener(e,i,!1)})}},{key:"weekToEn",value:function(t){var e="string"==typeof t?parseInt(t):t;return this.obj.en.month[e-1]}},{key:"showOrHide",value:function(t,e){for(var i=0,a=t.length;i<a;i++)t[i].style.display="hide"===e?"none":"block"}},{key:"off",value:function(t,e,i){return this.forEach(t,function(t,a){a.detachEvent?a.detachEvent("on"+e,i):a.removeEventListener(e,i,!1)})}},{key:"countHeight",value:function(t,e){var i=this.$obj[a](".zane-date-main").offsetHeight,o=this.$obj[a](t)[n]("tr"),s=Math.floor(i/e);this.forEach(o,function(t,e){e.style.height=s+"px"})}},{key:"documentClick",value:function(){var t=this;this.on(i,"click",function(e){t.obj.calendar&&(t.obj.calendar.style.display="none")})}}]),e}(),s=function(e){function i(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.elem.substring(1);n=n.replace(/[_-]/g,"").toUpperCase(),e.calendarName=i&&i.double?n+i.double:n,e.width&&(e.width=e.width<250?250:e.width,e.width=e.width>500?500:e.width),e.height&&(e.height=e.height<250?250:e.height,e.height=e.height>350?350:e.height);var s=Object.assign(a(e),i);t[e.calendarName]=new o(s)}function a(t,e){e=e||{};for(var i in t)t.hasOwnProperty(i)&&("object"===_typeof(t[i])?(e[i]="[object Array]"===Object.prototype.toString.call(t[i])?[]:{},a(t[i],e[i])):e[i]=t[i]);return e}e.type=e.type||"day",-1!=e.type.indexOf("double")?(e.type=e.type.replace(/double/,""),i({showclean:!1,shownow:!1,showsubmit:!1,isDouble:!0,value:e.begintime,doublevalue:e.begintime&&e.endtime?e.begintime+" - "+e.endtime:""}),i({shownow:!1,showtime:!1,isDouble:!0,double:"DOUBLE",value:e.endtime,doublevalue:e.begintime&&e.endtime?e.begintime+" - "+e.endtime:""})):i({value:e.begintime})};return e||(t.zaneDate=s),s});